{"version":3,"file":"static/js/212.7d28b083.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","servises/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"Form_formContainer__quths\",\"formMovie\":\"Form_formMovie__Ra4l6\",\"inputMovie\":\"Form_inputMovie__OjjDI\",\"buttonMovie\":\"Form_buttonMovie__+xiON\"};","import css from './Form.module.css';\nexport const Form = ({ handleSubmit, query }) => {\n  return (\n    <div className={css.formContainer}>\n      <form className={css.formMovie} onSubmit={handleSubmit}>\n        <input className={css.inputMovie} type=\"text\" name=\"query\" required />\n        <button className={css.buttonMovie} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesPage_movieList__b4qVb\",\"movieItem\":\"MoviesPage_movieItem__vjzDU\",\"movieLink\":\"MoviesPage_movieLink__gLIKU\",\"noResults\":\"MoviesPage_noResults__WoV63\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport { searchMovieRequest } from 'servises/API';\n\nimport { Form } from 'components/Form/Form';\n\nimport css from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('sQuery') ?? '';\n\n  const fetchMovie = useCallback(async () => {\n    try {\n      const data = await searchMovieRequest(query);\n      setSearchResult(data);\n    } catch (error) {\n      toast.error('MoviesPage');\n    }\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    if (form.elements.query.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({\n      sQuery: form.elements.query.value.toLowerCase().trim(),\n    });\n    form.reset();\n  };\n\n  useEffect(() => {\n    if (query) {\n      fetchMovie();\n    }\n  }, [query, fetchMovie]);\n  return (\n    <>\n      <Form handleSubmit={handleSubmit} query={query} />\n      {query &&\n      searchResult &&\n      searchResult.results &&\n      searchResult.results.length > 0 ? (\n        <ul className={css.movieList}>\n          {searchResult.results.map(movie => (\n            <li className={css.movieItem} key={movie.id}>\n              <Link\n                className={css.movieLink}\n                state={{ from: location }}\n                to={`/movies/${movie.id}`}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div className={css.noResults}>No movie found for your request</div>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = '4e1f358bd63a2be75a8ad2292af6c6a7';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0ZTFmMzU4YmQ2M2EyYmU3NWE4YWQyMjkyYWY2YzZhNyIsInN1YiI6IjY1YjJjZGRmYTE5OWE2MDEzMDlkODI0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gKuoVXR1zDkeNXO0X4Y2B4kmtoFve3Fd86OxTgvUEzk',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n\n  return data.results;\n};\n\nexport const searchMovieRequest = async searchTerm => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchTerm}`\n  );\n  return response.data;\n};\n\nexport const movieDetailsRequest = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n  return data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n"],"names":["Form","_ref","handleSubmit","query","_jsx","className","css","children","_jsxs","onSubmit","type","name","required","_searchParams$get","_useState","useState","_useState2","_slicedToArray","searchResult","setSearchResult","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","get","fetchMovie","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","searchMovieRequest","sent","t0","toast","stop","useEffect","_Fragment","event","preventDefault","form","currentTarget","elements","value","sQuery","toLowerCase","trim","reset","results","length","map","movie","Link","state","from","to","concat","id","title","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","apply","arguments","_ref2","_callee2","searchTerm","response","_context2","_x","movieDetailsRequest","_ref3","_callee3","movieId","_yield$axios$get2","_context3","_x2","requestMovieCast","_ref4","_callee4","_yield$axios$get3","_context4","_x3","requestMovieReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4","getPoster","url","getProfileImg"],"sourceRoot":""}