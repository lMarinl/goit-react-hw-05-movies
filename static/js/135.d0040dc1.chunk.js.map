{"version":3,"file":"static/js/135.d0040dc1.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx","servises/API.js","utils/Statuses.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieContainer\":\"MovieDetails_movieContainer__ilr3m\",\"movieDetailsContainer\":\"MovieDetails_movieDetailsContainer__hxmcN\",\"goBackLink\":\"MovieDetails_goBackLink__0L6Dl\",\"movieDescriptionContainer\":\"MovieDetails_movieDescriptionContainer__p7PaP\",\"moviePoster\":\"MovieDetails_moviePoster__V6U6u\",\"movieTitle\":\"MovieDetails_movieTitle__0CAOT\",\"movieScore\":\"MovieDetails_movieScore__UQXpa\",\"movieOverviewTitle\":\"MovieDetails_movieOverviewTitle__zSN1K\",\"movieGenresTitle\":\"MovieDetails_movieGenresTitle__fP2Ly\",\"movieDetails\":\"MovieDetails_movieDetails__EbgQo\",\"movieGenres\":\"MovieDetails_movieGenres__frmdo\",\"additionalInformation\":\"MovieDetails_additionalInformation__GkKou\",\"containerMenu\":\"MovieDetails_containerMenu__kAwTh\",\"cast\":\"MovieDetails_cast__xGIdo\",\"reviews\":\"MovieDetails_reviews__XEGy1\",\"active\":\"MovieDetails_active__uPNdW\"};","import React, { useEffect, useState, useRef, lazy, Suspense } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\n\nimport { getPoster, movieDetailsRequest } from '../../servises/API';\nimport { toast } from 'react-toastify';\n\nimport { STATUSES } from 'utils/Statuses';\n\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('../../components/Cast/Cast'));\nconst Reviews = lazy(() => import('../../components/Reviews/Reviews'));\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const data = await movieDetailsRequest(movieId);\n\n        setMovieDetails(data);\n        setStatus(STATUSES.success);\n      } catch {\n        setStatus(STATUSES.error);\n        toast('MovieDetails');\n      }\n    };\n    fetchMovieDetails();\n  }, [movieId]);\n\n  return (\n    <div className={css.movieContainer}>\n      {status === STATUSES.pending && <Loader />}\n      {status === STATUSES.success && (\n        <div className={css.movieDetailsContainer}>\n          <Link className={css.goBackLink} to={backLinkHref.current}>\n            Go back\n          </Link>\n          <img\n            className={css.moviePoster}\n            alt={movieDetails.title || movieDetails.name}\n            src={getPoster(movieDetails.poster_path)}\n            width=\"365\"\n            height=\"550\"\n          />\n          <div className={css.movieDescriptionContainer}>\n            <h3 className={css.movieTitle}>\n              {movieDetails.title || movieDetails.name}\n            </h3>\n            <p className={css.movieScore}>\n              User Score: {Math.round(movieDetails.vote_average * 10)}%\n            </p>\n            <h4 className={css.movieOverviewTitle}>Overview</h4>\n            <p className={css.movieDetails}>{movieDetails.overview}</p>\n            <h4 className={css.movieGenresTitle}>Genres</h4>\n            <p className={css.movieGenres}>\n              {movieDetails.genres.map(genre => genre.name).join(', ')}\n            </p>\n          </div>\n        </div>\n      )}\n\n      <h3 className={css.additionalInformation}>Additional information</h3>\n      <div className={css.containerMenu}>\n        <NavLink\n          className={({ isActive }) =>\n            `${css.cast} ${isActive ? css.active : ''}`\n          }\n          to=\"cast\"\n        >\n          Cast\n        </NavLink>\n\n        <NavLink\n          className={({ isActive }) =>\n            `${css.reviews} ${isActive ? css.active : ''}`\n          }\n          to=\"reviews\"\n        >\n          Reviews\n        </NavLink>\n      </div>\n      <Suspense fallback={<Loader />}>\n        <Routes>\n          <Route path=\"cast\" element={<Cast />} />\n          <Route path=\"reviews\" element={<Reviews />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '4e1f358bd63a2be75a8ad2292af6c6a7';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0ZTFmMzU4YmQ2M2EyYmU3NWE4YWQyMjkyYWY2YzZhNyIsInN1YiI6IjY1YjJjZGRmYTE5OWE2MDEzMDlkODI0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gKuoVXR1zDkeNXO0X4Y2B4kmtoFve3Fd86OxTgvUEzk',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n\n  return data.results;\n};\n\nexport const searchMovieRequest = async searchTerm => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchTerm}`\n  );\n  return response.data;\n};\n\nexport const movieDetailsRequest = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n  return data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n};\n"],"names":["Cast","lazy","Reviews","_location$state$from","_location$state","location","useLocation","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","STATUSES","_useState4","status","setStatus","backLinkHref","useRef","state","from","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","movieDetailsRequest","sent","t0","toast","stop","apply","arguments","_jsxs","className","css","children","_jsx","Loader","Link","to","current","alt","title","name","src","getPoster","poster_path","width","height","Math","round","vote_average","overview","genres","map","genre","join","NavLink","_ref2","isActive","concat","_ref3","Suspense","fallback","Routes","Route","path","element","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","results","searchMovieRequest","_callee2","searchTerm","response","_context2","_x","_callee3","_yield$axios$get2","_context3","_x2","requestMovieCast","_ref4","_callee4","_yield$axios$get3","_context4","_x3","requestMovieReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4","url","getProfileImg","idle","pending","success","error"],"sourceRoot":""}