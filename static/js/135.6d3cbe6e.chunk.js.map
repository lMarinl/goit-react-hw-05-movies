{"version":3,"file":"static/js/135.6d3cbe6e.chunk.js","mappings":"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","sources":["pages/MovieDetails/MovieDetails.module.css","pages/MovieDetails/MovieDetails.jsx","servises/API.js","utils/Statuses.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {};","import React, { useEffect, useState, useRef, lazy, Suspense } from 'react';\nimport {\n  Link,\n  NavLink,\n  Route,\n  Routes,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\n\nimport { getPoster, movieDetailsRequest } from '../../servises/API';\nimport { toast } from 'react-toastify';\n\nimport { STATUSES } from 'utils/Statuses';\n\nimport { Loader } from 'components/Loader/Loader';\nimport css from './MovieDetails.module.css';\n\nconst Cast = lazy(() => import('../../components/Cast/Cast'));\nconst Reviews = lazy(() => import('../../components/Reviews/Reviews'));\n\nconst MovieDetails = () => {\n  const location = useLocation();\n  const { id } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [status, setStatus] = useState(STATUSES.idle);\n\n  const backLinkHref = useRef(location.state?.from ?? '/movies');\n\n  useEffect(() => {\n    const fetchMovieDetails = async () => {\n      try {\n        setStatus(STATUSES.pending);\n        const data = await movieDetailsRequest(id);\n\n        setMovieDetails(data);\n        setStatus(STATUSES.success);\n      } catch {\n        setStatus(STATUSES.error);\n        toast('MovieDetails');\n      }\n    };\n    fetchMovieDetails();\n  }, [id]);\n\n  return (\n    <div>\n      {status === STATUSES.pending && <Loader />}\n      {status === STATUSES.success && (\n        <div>\n          <Link className={css.linkGoBack} to={backLinkHref.current}>\n            Go back\n          </Link>\n          <img\n            alt={movieDetails.title || movieDetails.name}\n            src={getPoster(movieDetails.poster_path)}\n            width=\"200\"\n            height=\"300\"\n          />\n          <h3>{movieDetails.title || movieDetails.name}</h3>\n          <p>User Score: {Math.round(movieDetails.vote_average * 10)}%</p>\n          <h4>Overview</h4>\n          <p>{movieDetails.overview}</p>\n          <h4>Genres</h4>\n          <p>{movieDetails.genres.map(genre => genre.name).join(', ')}</p>\n          <div className={css.line}></div>\n        </div>\n      )}\n\n      <h3>Additional information</h3>\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"cast\"\n      >\n        Cast\n      </NavLink>\n\n      <NavLink\n        className={({ isActive }) =>\n          `${css.navlink} ${isActive ? css.active : ''}`\n        }\n        to=\"reviews\"\n      >\n        Reviews\n      </NavLink>\n      <div>\n        <div className={css.line}></div>\n        <Suspense fallback={<Loader />}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast />} />\n            <Route path=\"reviews\" element={<Reviews />} />\n          </Routes>\n        </Suspense>\n      </div>\n    </div>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\nconst API_KEY = '4e1f358bd63a2be75a8ad2292af6c6a7';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0ZTFmMzU4YmQ2M2EyYmU3NWE4YWQyMjkyYWY2YzZhNyIsInN1YiI6IjY1YjJjZGRmYTE5OWE2MDEzMDlkODI0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gKuoVXR1zDkeNXO0X4Y2B4kmtoFve3Fd86OxTgvUEzk',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n\n  return data.results;\n};\n\nexport const searchMovieRequest = async searchTerm => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchTerm}`\n  );\n  return response.data;\n};\n\nexport const movieDetailsRequest = async id => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${id}`);\n  return data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n","export const STATUSES = {\n  idle: 'idle',\n  pending: 'pending',\n  success: 'success',\n  error: 'error',\n};\n"],"names":["Cast","lazy","Reviews","_location$state$from","_location$state","location","useLocation","id","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","STATUSES","_useState4","status","setStatus","backLinkHref","useRef","state","from","useEffect","fetchMovieDetails","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","movieDetailsRequest","sent","t0","toast","stop","apply","arguments","_jsxs","children","_jsx","Loader","Link","className","css","to","current","alt","title","name","src","getPoster","poster_path","width","height","Math","round","vote_average","overview","genres","map","genre","join","NavLink","_ref2","isActive","concat","_ref3","Suspense","fallback","Routes","Route","path","element","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","results","searchMovieRequest","_callee2","searchTerm","response","_context2","_x","_callee3","_yield$axios$get2","_context3","_x2","requestMovieCast","_ref4","_callee4","movieId","_yield$axios$get3","_context4","_x3","requestMovieReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4","url","getProfileImg","idle","pending","success","error"],"sourceRoot":""}