{"version":3,"file":"static/js/212.de7c00cd.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","servises/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"Form_formContainer__quths\",\"formMovie\":\"Form_formMovie__Ra4l6\",\"inputMovie\":\"Form_inputMovie__OjjDI\",\"buttonMovie\":\"Form_buttonMovie__+xiON\"};","import css from './Form.module.css';\nexport const Form = ({ handleSubmit, query }) => {\n  return (\n    <div className={css.formContainer}>\n      <form className={css.formMovie} onSubmit={handleSubmit}>\n        <input className={css.inputMovie} type=\"text\" name=\"query\" required />\n        <button className={css.buttonMovie} type=\"submit\">\n          Search\n        </button>\n      </form>\n    </div>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesPage_movieList__b4qVb\",\"movieItem\":\"MoviesPage_movieItem__vjzDU\",\"movieLink\":\"MoviesPage_movieLink__gLIKU\",\"noResults\":\"MoviesPage_noResults__WoV63\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport { getPoster, searchMovieRequest } from 'servises/API';\n\nimport { Form } from 'components/Form/Form';\n\nimport css from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('sQuery') ?? '';\n\n  const fetchMovie = useCallback(async () => {\n    try {\n      const data = await searchMovieRequest(query);\n      setSearchResult(data);\n    } catch (error) {\n      toast.error('MoviesPage');\n    }\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n    const form = event.currentTarget;\n    if (form.elements.query.value === '') {\n      return setSearchParams({});\n    }\n    setSearchParams({\n      sQuery: form.elements.query.value.toLowerCase().trim(),\n    });\n    form.reset();\n  };\n\n  useEffect(() => {\n    if (query) {\n      fetchMovie();\n    }\n  }, [query, fetchMovie]);\n  return (\n    <>\n      <Form handleSubmit={handleSubmit} query={query} />\n      {query &&\n      searchResult &&\n      searchResult.results &&\n      searchResult.results.length > 0 ? (\n        <ul className={css.movieList}>\n          {searchResult.results.map(movie => (\n            <li className={css.movieItem} key={movie.id}>\n              <img\n                className={css.moviePoster}\n                alt={movie.title || movie.name}\n                src={getPoster(movie.poster_path)}\n                width=\"300\"\n                height=\"450\"\n              />\n              <Link\n                className={css.movieLink}\n                state={{ from: location }}\n                to={`/movies/${movie.id}`}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div className={css.noResults}>No movie found for your request</div>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = '4e1f358bd63a2be75a8ad2292af6c6a7';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0ZTFmMzU4YmQ2M2EyYmU3NWE4YWQyMjkyYWY2YzZhNyIsInN1YiI6IjY1YjJjZGRmYTE5OWE2MDEzMDlkODI0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gKuoVXR1zDkeNXO0X4Y2B4kmtoFve3Fd86OxTgvUEzk',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n\n  return data.results;\n};\n\nexport const searchMovieRequest = async searchTerm => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchTerm}`\n  );\n  return response.data;\n};\n\nexport const movieDetailsRequest = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n  return data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n"],"names":["Form","_ref","handleSubmit","query","_jsx","className","css","children","_jsxs","onSubmit","type","name","required","_searchParams$get","_useState","useState","_useState2","_slicedToArray","searchResult","setSearchResult","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","get","fetchMovie","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","searchMovieRequest","sent","t0","toast","stop","useEffect","_Fragment","event","preventDefault","form","currentTarget","elements","value","sQuery","toLowerCase","trim","reset","results","length","map","movie","alt","title","src","getPoster","poster_path","width","height","Link","state","from","to","concat","id","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","apply","arguments","_ref2","_callee2","searchTerm","response","_context2","_x","movieDetailsRequest","_ref3","_callee3","movieId","_yield$axios$get2","_context3","_x2","requestMovieCast","_ref4","_callee4","_yield$axios$get3","_context4","_x3","requestMovieReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4","url","getProfileImg"],"sourceRoot":""}