{"version":3,"file":"static/js/212.5b88ca48.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/Form/Form.module.css?89ba","components/Form/Form.jsx","webpack://react-homework-template/./src/pages/MoviesPage/MoviesPage.module.css?7ea7","pages/MoviesPage/MoviesPage.jsx","servises/API.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"formMovie\":\"Form_formMovie__Ra4l6\",\"inputMovie\":\"Form_inputMovie__OjjDI\",\"buttonMovie\":\"Form_buttonMovie__+xiON\"};","import css from './Form.module.css';\nexport const Form = ({ handleSubmit, query }) => {\n  return (\n    <form className={css.formMovie} onSubmit={handleSubmit}>\n      <input\n        className={css.inputMovie}\n        type=\"text\"\n        name=\"query\"\n        defaultValue={query}\n        required\n      />\n      <button className={css.buttonMovie} type=\"submit\">\n        Search\n      </button>\n    </form>\n  );\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"movieList\":\"MoviesPage_movieList__b4qVb\",\"movieItem\":\"MoviesPage_movieItem__vjzDU\",\"movieLink\":\"MoviesPage_movieLink__gLIKU\",\"noResults\":\"MoviesPage_noResults__WoV63\"};","import React, { useCallback, useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nimport { toast } from 'react-toastify';\nimport { searchMovieRequest } from 'servises/API';\n\nimport { Form } from 'components/Form/Form';\n\nimport css from './MoviesPage.module.css';\n\nconst MoviesPage = () => {\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const location = useLocation();\n\n  const query = searchParams.get('sQuery');\n\n  const fetchMovie = useCallback(async () => {\n    try {\n      const data = await searchMovieRequest(query);\n      setSearchResult(data);\n    } catch (error) {\n      toast.error('MoviesPage');\n    }\n  }, [query]);\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const query = event.target.query.value.toLowerCase().trim();\n    if (!query) return;\n    setSearchParams({\n      sQuery: query,\n    });\n    event.target.reset();\n  };\n\n  useEffect(() => {\n    if (query) {\n      fetchMovie();\n    }\n  }, [query, fetchMovie]);\n  return (\n    <>\n      <Form handleSubmit={handleSubmit} query={query} />\n      {query &&\n      searchResult &&\n      searchResult.results &&\n      searchResult.results.length > 0 ? (\n        <ul className={css.movieList}>\n          {searchResult.results.map(movie => (\n            <li className={css.movieItem} key={movie.id}>\n              <Link\n                className={css.movieLink}\n                state={{ from: location }}\n                to={`/movies/${movie.id}`}\n              >\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      ) : (\n        <div className={css.noResults}>No movie found for your request</div>\n      )}\n    </>\n  );\n};\n\nexport default MoviesPage;\n","import axios from 'axios';\n\nconst API_KEY = '4e1f358bd63a2be75a8ad2292af6c6a7';\nconst BASE_URL = 'https://api.themoviedb.org/3';\n\nconst options = {\n  api_key: API_KEY,\n  AUTH_TOKEN:\n    'Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiI0ZTFmMzU4YmQ2M2EyYmU3NWE4YWQyMjkyYWY2YzZhNyIsInN1YiI6IjY1YjJjZGRmYTE5OWE2MDEzMDlkODI0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.gKuoVXR1zDkeNXO0X4Y2B4kmtoFve3Fd86OxTgvUEzk',\n};\naxios.defaults.headers.common['Authorization'] = options.AUTH_TOKEN;\n\nexport const requestTrendingMovies = async () => {\n  const { data } = await axios.get(`${BASE_URL}/trending/movie/day`);\n\n  return data.results;\n};\n\nexport const searchMovieRequest = async searchTerm => {\n  const response = await axios.get(\n    `${BASE_URL}/search/movie?query=${searchTerm}`\n  );\n  return response.data;\n};\n\nexport const movieDetailsRequest = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}`);\n  return data;\n};\n\nexport const requestMovieCast = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const requestMovieReviews = async movieId => {\n  const { data } = await axios.get(`${BASE_URL}/movie/${movieId}/reviews`);\n  return data;\n};\n\nexport const getPoster = url =>\n  url\n    ? `https://media.themoviedb.org/t/p/w440_and_h660_face/${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n\nexport const getProfileImg = url =>\n  url\n    ? `https://image.tmdb.org/t/p/w200${url}`\n    : 'https://fakeimg.pl/400x600?text=No+image&font=bebas';\n"],"names":["Form","_ref","handleSubmit","query","_jsxs","className","css","onSubmit","children","_jsx","type","name","defaultValue","required","_useState","useState","_useState2","_slicedToArray","searchResult","setSearchResult","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","location","useLocation","get","fetchMovie","useCallback","_asyncToGenerator","_regeneratorRuntime","_callee","data","_context","prev","next","searchMovieRequest","sent","t0","toast","stop","useEffect","_Fragment","event","preventDefault","target","value","toLowerCase","trim","sQuery","reset","results","length","map","movie","Link","state","from","to","concat","id","title","BASE_URL","options","axios","requestTrendingMovies","_yield$axios$get","abrupt","apply","arguments","_ref2","_callee2","searchTerm","response","_context2","_x","movieDetailsRequest","_ref3","_callee3","movieId","_yield$axios$get2","_context3","_x2","requestMovieCast","_ref4","_callee4","_yield$axios$get3","_context4","_x3","requestMovieReviews","_ref5","_callee5","_yield$axios$get4","_context5","_x4","getPoster","url","getProfileImg"],"sourceRoot":""}